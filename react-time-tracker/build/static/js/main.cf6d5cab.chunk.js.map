{"version":3,"sources":["NavBar.js","api.js","redux/actionCreators.js","InputAlert.js","AddShift.js","ShiftCollection.js","CurrShift.js","CurrShiftList.js","Header.js","Dashboard.js","Forms/SimpleForm.js","Forms/Login.js","Forms/Signup.js","App.js","reportWebVitals.js","redux/reducers.js","redux/store.js","index.js"],"names":["NavBar","className","type","id","href","UserApi","username","password","axios","post","resp","this","token","data","status","user","errors","getMessagesFromErrorRes","shift","time","patch","stop","e","response","console","error","message","Array","isArray","endShift","clockOutAt","Date","shiftId","dispatch","a","clockOutShift","payload","authorizeUser","login","registerUser","register","InputAlert","msg","persistence","alertId","Math","random","setTimeout","document","getElementById","remove","AddShift","currShifts","useSelector","shifts","key","push","INIT","category","useState","formData","setFormData","inputAlerts","setInputAlerts","useDispatch","handleChange","evt","target","name","value","addAlert","alerts","undefined","onSubmit","preventDefault","toLowerCase","some","newShift","start","addShift","startShift","htmlFor","onChange","placeholder","both","Shift","u_id","getTime","duration","specificity","durationFormatted","timeFormat","test","strict","splitDateTime","clockOut","ShiftCollection","add","length","newShifts","reduce","totalHours","getHours","removedShift","shiftIndex","findIndex","splice","someShift","find","initialCategory","newCategory","forEach","initialtype","newType","equals","categories","Set","types","dateTime","filter","queryString","field","query","matched","ms","MSINHOUR","MSINDAY","MSINMONTH","MSINYEAR","result","i","y","floor","mth","d","h","min","s","CurrShift","getFormattedDuration","setDuration","clockoutDuration","dataset","reference","mins","minsFrom","useEffect","intervalId","setInterval","clearInterval","onClick","CurrShiftList","map","Header","Dashboard","allShifts","shallowEqual","shiftsByCategory","makeSeries","useCallback","Object","keys","getTotalHours","series","setSeries","intervalIdArray","width","height","method","colors","combined","innerRadius","padAngle","cornerRadius","innerPadding","pieAttributes","onMouseMove","style","opacity","onMouseLeave","onMouseUp","pieSlice","parentElement","log","classList","replace","pieStyle","SimpleForm","INITIAL_STATE","submitText","resetForm","LoginForm","setErrors","reset","alert","SignupForm","signup","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","SHIFTS_INITIAL_STATE","QUEUE_INITIAL_STATE","USER_INITIAL_STATE","combineReducers","action","updatedShift","shiftQueue","localStorage","clear","persistConfig","storage","stateReconciler","autoMergeLevel2","persistedReducer","persistReducer","root","store","createStore","composeWithDevTools","applyMiddleware","thunk","persistedStore","persistStore","index","StrictMode","loading","persistor","ReactDOM","render"],"mappings":"iTAsBeA,EApBA,WACX,OACI,sBAAKC,UAAU,iDAAf,UACI,uBAAMA,UAAU,oBAAhB,yBAAgD,mBAAGA,UAAU,+BAE7D,wBAAQA,UAAU,iBAAiBC,KAAK,SAAS,iBAAe,WAAW,iBAAe,YAA1F,SACI,sBAAMD,UAAU,0BAEpB,qBAAKA,UAAU,+EAA+EE,GAAG,WAAjG,SAEI,mBAAGC,KAAK,aAAaH,UAAU,2BAA/B,6B,uFCXVI,E,iIAGF,kGAAoBC,EAApB,EAAoBA,SAAUC,EAA9B,EAA8BA,SAA9B,kBAE2BC,IAAMC,KAAK,mBAAoB,CAAEH,WAAUC,aAFtE,cAEcG,EAFd,OAGQC,KAAKC,MAAQF,EAAKG,KAAKD,MAH/B,kBAIe,CAAEE,QAAQ,EAAMC,KAAML,EAAKG,KAAKE,OAJ/C,uCAMcC,EAASC,EAAwB,EAAD,IAN9C,kBAOe,CAAEH,QAAQ,EAAOE,WAPhC,yD,oHAUA,kGAAuBV,EAAvB,EAAuBA,SAAUC,EAAjC,EAAiCA,SAAjC,kBAE2BC,IAAMC,KAAK,qBAAsB,CAAEH,WAAUC,aAFxE,cAEcG,EAFd,OAGQC,KAAKC,MAAQF,EAAKG,KAAKD,MAH/B,kBAIe,CAAEE,QAAQ,EAAMC,KAAML,EAAKG,KAAKE,OAJ/C,uCAMcC,EAASC,EAAwB,EAAD,IAN9C,kBAOe,CAAEH,QAAQ,EAAOE,WAPhC,yD,oHAUA,WAAsBE,GAAtB,kGAE2BV,IAAMC,KAAK,eAAgB,CAACS,QAAON,MAAOD,KAAKC,QAF1E,cAEcF,EAFd,yBAGe,CAAEI,QAAQ,EAAMI,MAAOR,EAAKG,KAAKK,QAHhD,uCAKcF,EAASC,EAAwB,EAAD,IAL9C,kBAMe,CAAEH,QAAQ,EAAOE,WANhC,yD,yHASA,WAA2Bb,EAAIgB,GAA/B,kGAE2BX,IAAMY,MAAN,sBAA2BjB,GAAM,CAAEe,MAAM,CAACG,KAAMF,GAAOP,MAAOD,KAAKC,QAF9F,cAEcF,EAFd,yBAGe,CAAEI,QAAQ,EAAMI,MAAOR,EAAKG,KAAKK,QAHhD,uCAKcF,EAASC,EAAwB,EAAD,IAL9C,kBAMe,CAAEH,QAAQ,EAAOE,WANhC,yD,gEAWJ,SAASC,EAAwBK,GAC7B,GAAIA,EAAEC,SAAU,CACZC,QAAQC,MAAM,aAAcH,EAAEC,UAC9B,IAAIG,EAAUJ,EAAEC,SAASV,KAAKY,MAAMC,QACpC,OAAOC,MAAMC,QAAQF,GAAWA,EAAU,CAACA,GACxC,MAAO,CAAC,uBAhDbrB,EACKO,MAAQ,GAkDJP,QC/BR,SAASwB,EAAS1B,GAErB,OAAO2B,EAAW3B,EADL,IAAI4B,MAId,SAASD,EAAWE,EAASX,GAChC,8CAAO,WAAeY,GAAf,eAAAC,EAAA,sEACgB7B,EAAQ8B,cAAcH,EAASX,GAD/C,WAEiB,KADdX,EADH,QAEMI,OAFN,uBAGCmB,EAAS,CAAE/B,KAAM,eAAgBkC,QAAS1B,EAAKQ,QAHhD,mBAIQ,GAJR,WAMiB,IAAhBR,EAAKI,OANN,uBAOCU,QAAQC,MAAMf,EAAKM,QAPpB,mBAQQ,GARR,2CAAP,sDAiBG,SAASqB,EAAT,GAAgD,IAAvB/B,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,SACtC,8CAAO,WAAgB0B,GAAhB,eAAAC,EAAA,sEACgB7B,EAAQiC,MAAM,CAAChC,WAAUC,aADzC,cAEgB,KADbG,EADH,QAEKI,QACJmB,EAAS,CAAE/B,KAAM,WAAYkC,QAAS1B,EAAKK,OAH5C,kBAIIL,GAJJ,2CAAP,sDAQG,SAAS6B,EAAT,GAA+C,IAAvBjC,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,SACrC,8CAAO,WAAgB0B,GAAhB,eAAAC,EAAA,sEACgB7B,EAAQmC,SAAS,CAAElC,WAAUC,aAD7C,cAEiB,KADdG,EADH,QAEMI,QACLmB,EAAS,CAAE/B,KAAM,WAAYkC,QAAS1B,EAAKK,OAH5C,kBAIIL,GAJJ,2CAAP,sDCrDJ,IAee+B,EAfI,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,IAA2B,IAAtBC,mBAAsB,MAAR,EAAQ,EAEvCC,EAAUC,KAAKC,SAAW,SAQhC,OANIH,EAAc,GACdI,YAAW,WACPC,SAASC,eAAeL,GAASM,YACjCP,GAIR,qBAAK1C,UAAU,mBAAmBE,GAAIyC,EAAtC,SACMF,KCuFKS,EA/FE,WACb,IAAIC,EAAaC,aAAY,YAAiB,IAAdC,EAAa,EAAbA,OACtBF,EAAa,GACnB,IAAK,IAAIG,KAAOD,EACPA,EAAOC,GAAKlC,MAAM+B,EAAWI,KAAKF,EAAOC,IAElD,OAAOH,KAGLK,EAAO,CAACvD,KAAM,GAAIwD,SAAU,IAClC,EAAkCC,mBAASF,GAA3C,mBAAQG,EAAR,KAAkBC,EAAlB,KACA,EAAwCF,mBAAS,IAAjD,mBAAQG,EAAR,KAAqBC,EAArB,KACM9B,EAAW+B,cAEjB,SAASC,EAAaC,GAClB,MAAwBA,EAAIC,OAApBC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,MACdR,GAAY,SAAAhD,GAAI,kCAASA,GAAT,kBAAgBuD,EAAOC,OAE3C,SAASC,EAASF,EAAM1B,GACpBqB,GAAe,SAAAQ,GAAM,kCACdA,GADc,kBAEhBH,EAAO1B,OAGZK,YAAW,WACPgB,GAAe,SAAAQ,GAAM,kCACdA,GADc,kBAEhBH,OAAOI,SAEb,KAqBP,OACI,sBAAMrE,GAAG,YAAYF,UAAU,wCAAwCwE,SAnB3E,SAAsBP,GAClBA,EAAIQ,iBACJ,IAAMxE,EAAO0D,EAAS1D,KAAKyE,cACrBjB,EAAWE,EAASF,SAASiB,cAEnC,GAAGzE,GAASwD,EAAU,CAClB,GAAIN,EAAWwB,MAAK,SAAA1D,GAAK,OAAIA,EAAMhB,OAAOA,GAAQgB,EAAMwC,WAAaA,KAEjE,YADAY,EAAS,OAAD,gCAAkCpE,EAAlC,gBAA8CwD,IAG1DG,EAAYJ,GACZxB,EF7CL,SAAoB/B,EAAMwD,GAC7B,8CAAO,WAAgBzB,GAAhB,iBAAAC,EAAA,6DACG2C,EAAW,CAACC,MAAO,IAAI/C,KAAQ7B,OAAMwD,YADxC,SAEgBrD,EAAQ0E,SAASF,GAFjC,WAGiB,KADdnE,EAFH,QAGMI,OAHN,uBAICmB,EAAS,CAAE/B,KAAM,cAAekC,QAAS1B,EAAKQ,QAJ/C,mBAKQ,GALR,WAOiB,IAAhBR,EAAKI,OAPN,wBAQCU,QAAQC,MAAMf,EAAKM,QARpB,mBASQ,GATR,4CAAP,sDE4CiBgE,CAAW9E,EAAMwD,SAEtBxD,GAAMoE,EAAS,OAAQ,wBACvBZ,GAAUY,EAAS,WAAY,yBAKvC,SACI,sBAAKrE,UAAU,gDAAf,UACI,oBAAIA,UAAU,2CAAd,wBAEA,sBAAKA,UAAU,oCAAf,UACI,uBAAOgF,QAAQ,OAAOhF,UAAU,aAAhC,uBACA,qBAAKA,UAAU,cAAf,SACI,uBAAOC,KAAK,OACRD,UAAU,eACVE,GAAG,OACHiE,KAAK,OACLC,MAAOT,EAAS1D,KAChBgF,SAAUjB,EACVkB,YAAY,aAGnBrB,EAAY5D,KAAO,cAAC,EAAD,CAAYwC,IAAKoB,EAAY5D,OAAW,QAEhE,sBAAKD,UAAU,8BAAf,UACI,uBAAOgF,QAAQ,WAAWhF,UAAU,aAApC,sBACA,sBAAKA,UAAU,cAAf,UACI,qBAAKA,UAAU,sBAAf,SACI,sBAAMA,UAAU,mBAAhB,oBAEJ,uBAAOC,KAAK,OACRD,UAAU,eACVE,GAAG,WACHiE,KAAK,WACLC,MAAOT,EAASF,SAChBwB,SAAUjB,EACVkB,YAAY,WAEnBrB,EAAYJ,SAAW,cAAC,EAAD,CAAYhB,IAAKoB,EAAYJ,WAAe,QAGxE,sBAAKvD,GAAG,kBAAkBF,UAAU,eAApC,UACK6D,EAAYsB,KAAO,cAAC,EAAD,CAAY1C,IAAKoB,EAAYsB,OAAW,KAE5D,wBAAQlF,KAAK,SAASD,UAAU,wCAAhC,+B,uBC1FdoF,E,WAQF,cAAwD,IAA1CP,EAAyC,EAAzCA,MAAO5E,EAAkC,EAAlCA,KAAMwD,EAA4B,EAA5BA,SAAUrC,EAAkB,EAAlBA,KAAMlB,EAAY,EAAZA,GAAImF,EAAQ,EAARA,KAAQ,oBACnD3E,KAAKR,GAAKA,EACVQ,KAAA,KAAe2E,EACXR,aAAiB/C,KAAMpB,KAAKmE,MAAQA,EACnCnE,KAAKmE,MAAQ,IAAI/C,KAAK+C,GAE3BnE,KAAKT,KAAOA,EACZS,KAAK+C,SAAWA,EACZrC,IACIA,aAAgBU,KAAMpB,KAAKU,KAAOA,EACjCV,KAAKU,KAAO,IAAIU,KAAKV,I,4CAOlC,WACI,OAAIV,KAAKU,KAAaV,KAAKU,KAAKkE,UAAY5E,KAAKmE,MAAMS,WAC3C,IAAIxD,MAAOwD,UAAY5E,KAAKmE,MAAMS,Y,sBAMlD,WACI,OAAO5E,KAAK6E,WAAa,O,kCAG7B,WAAuC,IAAlBC,EAAiB,uDAAH,EACzBD,EAAW7E,KAAK6E,WAChBE,EAAoBC,EAAWH,EAAUC,GAC/C,OAAOC,I,oBAGX,SAAOE,GAAoB,IAAdC,IAAa,yDACtB,GAAmB,kBAATD,EAAmB,OAAO,EAC/B,GAAIjF,KAAKR,IAAMyF,EAAKzF,IAAM0F,EAC3B,OAAGlF,KAAKR,KAAOyF,EAAKzF,GAGpB,GAAIQ,KAAK+C,WAAakC,EAAKlC,UACnB/C,KAAKT,OAAS0F,EAAK1F,KAAM,CACzB,GAAIS,KAAKmE,MAAMS,YAAcK,EAAKd,MAAMS,UAAW,OAAO,EAC1D,IAAKM,EAAQ,OAAO,EAG5B,OAAO,I,sBAUf,WAA6B,IAApBxE,EAAmB,uDAAZ,IAAIU,KAChBpB,KAAKU,KAAOA,I,wBAYhB,SAAWyE,EAAe5F,GAAiC,IAA3BwD,EAA0B,uDAAf/C,KAAK+C,SACtCmB,EAAW,IAAIQ,EAAM,CAACP,MAAOgB,EAAe5F,OAAMwD,WAAUrC,KAAMV,KAAKU,OAE7E,OADAV,KAAKoF,SAASD,GACPjB,M,KAMTmB,E,WACF,aAA2B,oBACvBrF,KAAK2C,OAAS,GACd3C,KAAKsF,IAAL,MAAAtF,KAAA,W,4CAGJ,WACI,MAAO,+BAAiCA,KAAKuF,SAAW,IAAMvF,KAAK2C,S,iBAevE,WAAmB,IAAD,uBAAX6C,EAAW,yBAAXA,EAAW,gBACd,cAAkBA,EAAlB,eAA6B,CAAxB,IAAIjF,EAAK,KACJA,aAAiBmE,IACnBnE,EAAQ,IAAImE,EAAMnE,IAEtBP,KAAK2C,OAAOE,KAAKtC,M,2BAGzB,WACI,OAAOP,KAAK2C,OAAO8C,QAAO,SAACC,EAAYnF,GACnC,OAAOmF,EAAanF,EAAMoF,aAC3B,K,oBAGP,SAAOC,GACH,IAAMC,EAAa7F,KAAK2C,OAAOmD,WAAU,SAACvF,GACtC,OAAIA,EAAMwC,WAAa6C,EAAa7C,UAC5BxC,EAAMhB,OAASqG,EAAarG,MACxBgB,EAAM4D,QAAUyB,EAAazB,SAI7C,OAAoB,IAAhB0B,IACA7F,KAAK2C,OAAOoD,OAAOF,EAAY,IACxB,K,sBAKf,SAASG,GAA4B,IAAjBd,EAAgB,wDAChC,QAAIlF,KAAKiG,KAAKD,EAAWd,K,4BAS7B,SAAegB,EAAiBC,GAC5B,IAAMxD,EAAS3C,KAAK+C,SAASmD,GAAiBvD,OAE9C,QAAIA,EAAO4C,SACP5C,EAAOyD,SAAQ,SAAA7F,GAAWA,EAAMwC,SAAWoD,MACpC,K,wBAKf,SAAWE,EAAaC,GACpB,IAAM3D,EAAS3C,KAAKT,KAAK8G,GAAa1D,OAEtC,QAAIA,EAAO4C,SACP5C,EAAOyD,SAAQ,SAAA7F,GAAWA,EAAMhB,KAAO+G,MAChC,K,kBAMf,SAAKN,GAA4B,IAAD,EAAhBd,EAAgB,sEACVlF,KAAK2C,QADK,IAC5B,2BAA+B,CAAC,IAAvBpC,EAAsB,QAC3B,GAAGA,EAAMgG,OAAOP,EAAWd,GAAS,OAAO3E,GAFnB,8BAI5B,OAAO,I,2BAGX,WACI,IADY,EACNiG,EAAa,IAAIC,IADX,cAEMzG,KAAK2C,QAFX,IAEZ,2BAA+B,CAAC,IAAvBpC,EAAsB,QAC3BiG,EAAWlB,IAAI/E,EAAMwC,WAHb,8BAKZ,OAAO,YAAIyD,K,sBAGf,WACI,IADO,EACDE,EAAQ,IAAID,IADX,cAEWzG,KAAK2C,QAFhB,IAEP,2BAA+B,CAAC,IAAvBpC,EAAsB,QAC3BmG,EAAMpB,IAAI/E,EAAMhB,OAHb,8BAKP,OAAO,YAAImH,K,4BAGf,SAAeC,GACX,OAAO,YAAItB,EAAX,YAA8BrF,KAAK2C,OAC9BiE,QAAO,gBAAGzC,EAAH,EAAGA,MAAH,OAAewC,EAAS/B,UAAYT,EAAMS,iB,6BAE1D,SAAgB+B,GACZ,OAAO,YAAItB,EAAX,YAA8BrF,KAAK2C,OAC9BiE,QAAO,gBAAGzC,EAAH,EAAGA,MAAH,OAAewC,EAAS/B,UAAYT,EAAMS,iB,2BAG1D,WACI,OAAO,YAAIS,EAAX,YAA+BrF,KAAK2C,OAAOiE,QAAO,SAACrG,GAAD,OAAYA,EAAMG,Y,sBAGxE,SAASmG,GACL,OAAO7G,KAAK4G,OAAO,WAAYC,K,kBAGnC,SAAKA,GACD,OAAO7G,KAAK4G,OAAO,OAAQC,K,oBAG/B,SAAOC,EAAOC,GACV,IAAMC,EAAUhH,KAAK2C,OAAOiE,QAAO,SAAArG,GAAK,OAAIA,EAAMuG,IAAUC,KAC5D,OAAO,YAAI1B,EAAX,YAA8B2B,M,oBAGlC,WAAW,OAAOhH,KAAK2C,OAAO4C,W,KA+BlC,SAASP,EAAWiC,EAAInC,GAEpB,IAEMoC,EAAW,KACXC,EAAU,MACVC,EAAY,OACZC,EAAWD,QAIbE,EAAS,GACTC,EAAI,EACJN,EAAK,IACLK,GAAU,KACVL,IAAW,GAGf,IAAMO,EAAItF,KAAKuF,MAAMR,EAAKI,GAC1B,GAAIG,IAEAP,GAAWO,EAAIH,EACfC,GAAUE,EAAI,YAFdD,GAGSzC,GACL,OAAOwC,EAKf,IAAMI,EAAMxF,KAAKuF,MAAMR,EAAKG,GAC5B,GAAIM,IAEAT,GAAWS,EAAMN,EACjBE,GAAUI,EAAM,aAFhBH,GAGSzC,GACL,OAAOwC,EAIf,IAAMK,EAAIzF,KAAKuF,MAAMR,EAAKE,GAC1B,GAAIQ,IAEAV,GAAWU,EAAIR,EACfG,GAAUK,EAAI,WAFdJ,GAGSzC,GACL,OAAOwC,EAIf,IAAMM,EAAI1F,KAAKuF,MAAMR,EAAKC,GAC1B,GAAIU,IAEAX,GAAWW,EAAIV,EACfI,GAAUM,EAAI,YAFdL,GAGSzC,GACL,OAAOwC,EAIf,IAAMO,EAAM3F,KAAKuF,MAAMR,EAxDJ,KAyDnB,GAAIY,IAEAZ,GA3De,IA2DJY,EACXP,GAAUO,EAAM,WAFhBN,GAGSzC,GACL,OAAOwC,EAGf,IAAMQ,EAAI5F,KAAKuF,MAAMR,EAlEL,KAmEhB,OAAIa,IAEAb,GArEY,IAqEDa,EACXR,GAAUQ,EAAI,cAFdP,GAIWD,EClUnB,IAmDeS,EAhDG,SAAC,GAAe,IAAbxH,EAAY,EAAZA,MAEXe,EAAW+B,cACjB,EAAgCL,mBAASzC,EAAMyH,wBAA/C,mBAAOnD,EAAP,KAAiBoD,EAAjB,KAQA,SAAS7C,EAAS7B,GACd,IAAM2E,EAAmB3E,EAAIC,OAAO2E,QAAQC,UAE5C,GAjBI,QAiBDF,EACC5G,EAASJ,EAASX,EAAMf,UACrB,GAlBK,QAkBD0I,EAAkC,CACzC,IAAM9C,ED0NlB,SAAkBiD,GAA8B,IAAxB1B,EAAuB,uDAAZ,IAAIvF,KACnC,OAAO,IAAIA,KAAKuF,EAAS/B,UAAa,IAAYyD,GC3NzBC,EAAU,IAC3BhH,EAASH,EAAWZ,EAAMf,GAAI4F,SAE9BvE,QAAQC,MAAM,SAAUoH,GACxB5G,EAASJ,EAASX,EAAMf,KAGhC,OApBA+I,qBAAU,WACN,IAAMC,EAAaC,aAAY,kBAC3BR,EAAY1H,EAAMyH,0BACnB,KACH,OAAO,kBAAMU,cAAcF,MAC5B,CAACjI,EAAO0H,IAgBP,qBAAI3I,UAAU,mDAAd,UACI,sBAAKA,UAAU,uBAAf,UACI,uBAAMA,UAAU,OAAhB,UAAyBiB,EAAMhB,KAA/B,OADJ,OAEI,uBAAMD,UAAU,WAAhB,cAA8BiB,EAAMwC,YACpC,qBAAKzD,UAAU,eAAf,SACMuF,OAGV,sBAAKvF,UAAU,0BAAf,UACI,wBAAQA,UAAU,gDAAgD,iBAAe,WAAjF,uBAGA,sBAAKA,UAAU,0BAAf,UACI,wBAAQA,UAAU,MAAM,iBAzChC,MAyCqDqJ,QAASvD,EAAtD,iBAGA,wBAAQ9F,UAAU,MAAM,iBA3CxB,MA2CqDqJ,QAASvD,EAA9D,mCCpBLwD,EAxBO,WAClB,IAAInG,EAAaC,aAAY,YAAiB,IAAdC,EAAa,EAAbA,OACtBF,EAAa,GACnB,IAAI,IAAIG,KAAOD,EACPA,EAAOC,GAAKlC,MAAM+B,EAAWI,KAAKF,EAAOC,IAEjD,OAAOH,KAGX,OADAA,EAAaA,EAAWoG,KAAI,SAAAtI,GAAK,OAAI,IAAImE,EAAMnE,MAE3C,qBAAKjB,UAAU,uCAAf,SACI,sBAAKA,UAAU,gDAAf,UACI,oBAAIA,UAAU,kDAAd,4BAEA,oBAAIE,GAAG,iBAAiBF,UAAU,4BAAlC,SACKmD,EAAWoG,KAAI,SAAAtI,GAAK,OACjB,cAAC,EAAD,CAAmDA,MAAOA,GAA1D,UAAmBA,EAAMhB,KAAzB,YAAiCgB,EAAMwC,sBCNhD+F,EAZA,WAEX,OACI,qBAAKxJ,UAAU,gEAAf,SACI,sBAAKA,UAAU,2DAAf,UACI,cAAC,EAAD,IACA,cAAC,EAAD,U,QC8EDyJ,EAlFG,WACd,IAAMC,EAAYtG,aAAY,qBAAGC,SAAqBsG,KAChDC,EAAmB,GACnBzG,EAAa,GACnB,IAAI,IAAIG,KAAOoG,EAAW,CACtB,IAAMzI,EAAQ,IAAImE,EAAMsE,EAAUpG,IAC9BrC,EAAMG,MAAM+B,EAAWI,KAAKtC,GAC7B2I,EAAiB3I,EAAMwC,UACtBmG,EAAiB3I,EAAMwC,UAAUuC,IAAI/E,GAErC2I,EAAiB3I,EAAMwC,UAAY,IAAIsC,EAAgB9E,GAI/D,IAAM4I,EAAaC,uBAAY,kBAAMC,OAAOC,KAAKJ,GAAkBL,KAAI,SAAA9F,GACnE,MAAO,CACH7C,KAAM,CAACgJ,EAAiBnG,GAAUwG,iBAClC9F,KAAMV,SAGd,EAA4BC,mBAASmG,KAArC,mBAAOK,EAAP,KAAeC,EAAf,KAGAlB,qBAAU,WACNkB,EAAUN,OACX,CAACH,EAAWS,IACflB,qBAAU,WACN,IAAMmB,EAAkBjH,EAAWoG,KAAI,SAAAtI,GACnC,OAAOkI,aAAY,WACfgB,GAAU,SAAAD,GACN,OAAOA,EAAOX,KAAI,SAAA3I,GACd,OAAGA,EAAKuD,OAASlD,EAAMwC,UACnB7C,EAAKA,KAAK,IAAM,EAAE,GAAG,GACd,eAAIA,IAEJA,UAIpB,QAEP,OAAO,kBACHwJ,EAAgBtD,SAAQ,SAAA5G,GAAE,OAAIkJ,cAAclJ,SACjD,CAACwJ,EAAWS,IAYf,OACA,sBAAKjK,GAAG,wBAAwBF,UAAU,sEAA1C,UACI,oBAAIA,UAAU,kDAAd,sCAGI,cAAC,QAAD,CAAOqK,MAAO,IAAKC,OAAQ,IAAKJ,OAAQA,EAAxC,SACI,cAAC,YAAD,CAAWK,OAAQ,CAAC,mBAApB,SACI,cAAC,OAAD,CACIvK,UAAU,qBACVwK,OAAO,aACPC,UAAU,EACVC,YAAY,MACZC,SAAU,KACVC,aAAc,EACdC,aAAc,EACdC,cAAe,CACXC,YAAa,SAAC1J,GAAD,OAAOA,EAAE6C,OAAO8G,MAAMC,QAAU,GAC7CC,aAAc,SAAC7J,GAAD,OAAOA,EAAE6C,OAAO8G,MAAMC,QAAU,IAC9CE,UA3BA,SAAClH,GACrB,IAAMmH,EAAWnH,EAAIC,OAAOmH,cAAcA,cAC1C9J,QAAQ+J,IAAIF,EAASG,WACrB,IAAMtD,EAAImD,EAASG,UAAU,GAAGC,QAAQ,6BAA8B,IACtEjK,QAAQ+J,IAAIF,EAASG,WAErBhK,QAAQ+J,IAAIrD,GACZ1G,QAAQ+J,IAAIpB,GAAQjC,MAsBJwD,SAAU,CAAER,QAAS,cC3C9BS,G,cAjCI,SAAC,GAA4E,IAA1E1L,EAAyE,EAAzEA,UAAW2L,EAA8D,EAA9DA,cAAenH,EAA+C,EAA/CA,SAA+C,IAArCoH,kBAAqC,MAA1B,SAA0B,MAAhB7K,cAAgB,MAAT,GAAS,EAC3F,EAAgC2C,mBAASiI,GAAzC,mBAAOhI,EAAP,KAAiBC,EAAjB,KACMI,EAAe,SAAAC,GAAG,OAAIL,GAAY,SAAAhD,GACpC,OAAO,2BAAIA,GAAX,kBAAkBqD,EAAIC,OAAOC,KAAQF,EAAIC,OAAOE,YAE9CyH,EAAY,kBAAMjI,EAAY+H,IAKpC,OACI,uBAAM3L,UAAWA,EAAWwE,SALX,SAAAP,GACjBA,EAAIQ,iBACJD,EAASb,EAAUkI,IAGnB,UACK9K,EAAOwI,KAAI,SAAA9H,GAAO,OACf,qBAAmBzB,UAAS,UAAKA,EAAL,qBAA5B,SACKyB,GADKA,MAIbsI,OAAOC,KAAK2B,GAAepC,KAAI,SAAApF,GAAI,OAChC,gCACI,wBAAOa,QAASb,EAAhB,cAAwBA,EAAxB,QACA,uBACIlE,KAAK,OACLkE,KAAMA,EACNjE,GAAIiE,EACJC,MAAOT,EAASQ,GAChBc,SAAUjB,MAPRG,MAWd,iCAASyH,SCINE,EA5BG,WACd,IAAM9J,EAAW+B,cACjB,EAA4BL,mBAAS,IAArC,mBAAO3C,EAAP,KAAegL,EAAf,KAOM1J,EAAK,uCAAG,aAA+B2J,GAA/B,mBAAA/J,EAAA,6DAAS5B,EAAT,EAASA,SAAUC,EAAnB,EAAmBA,SAAnB,SACW0B,EAASI,EAAc,CAAE/B,WAAUC,cAD9C,QACJ0H,EADI,QAECnH,QACPmL,IACAD,EAAU,IACVE,MAAM,aAAD,OAAcjE,EAAOlH,KAAKZ,MAE/B6L,EAAU,CAAC/D,EAAOjH,SAPZ,2CAAH,wDAWX,OAAO,cAAC,EAAD,CACHf,UAAU,QACV2L,cAlBgB,CAChBtL,SAAU,GACVC,SAAU,IAiBVkE,SAAUnC,EACVuJ,WAAW,QACX7K,OAAQA,KCIDmL,G,OA9BI,WACf,IAAMlK,EAAW+B,cACjB,EAA4BL,mBAAS,IAArC,mBAAO3C,EAAP,KAAegL,EAAf,KAQMI,EAAM,uCAAG,aAA+BH,GAA/B,mBAAA/J,EAAA,6DAAS5B,EAAT,EAASA,SAAUC,EAAnB,EAAmBA,SAAnB,SACU0B,EAASM,EAAa,CAAEjC,WAAUC,cAD5C,QACL0H,EADK,QAEDnH,QACNmL,IACAC,MAAM,cAAD,OAAejE,EAAOlH,KAAKZ,MAEhC6L,EAAU,CAAC/D,EAAOjH,SANX,2CAAH,wDAYZ,OAAO,cAAC,EAAD,CACHf,UAAU,SACV2L,cAnBiB,CACjBtL,SAAU,GACVC,SAAU,IAkBVkE,SAAU2H,EACVP,WAAW,WACX7K,OAAQA,MCTDqL,MAjBf,WACE,IAAMtL,EAAOsC,aAAY,qBAAEtC,QAC3B,OACE,sBAAKd,UAAU,MAAf,UACGc,EAAKZ,GACJ,yCAAYY,EAAKT,SAAjB,OACA,8CAEF,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,IACA,cAAC,EAAD,QCTSgM,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,yFCoBRQ,GAAuB,GAkB7B,IAAMC,GAAsB,GAsB5B,IAAMC,GAAqB,GAaZC,iCAAgB,CAC3B5J,OApDJ,WAAwD,IAAxCA,EAAuC,uDAA9ByJ,GAAsBI,EAAQ,uCAEnD,OAAQA,EAAOjN,MACX,IAAK,cACD,IAAM2E,EAAW,IAAIQ,EAAM8H,EAAO/K,SAClC,OAAO,2BAAIkB,GAAX,kBAAoBuB,EAAS1E,GAAK0E,IAEtC,IAAK,eACD,IAAMuI,EAAe,IAAI/H,EAAM8H,EAAO/K,SACtC,OAAO,2BAAKkB,GAAZ,kBAAqB8J,EAAajN,GAAKiN,IAE3C,QACI,OAAO9J,IAyCfvC,KAdJ,WAAkD,IAApCA,EAAmC,uDAA5BkM,GAAoBE,EAAQ,uCAC7C,OAAQA,EAAOjN,MACX,IAAK,WACD,OAAOiN,EAAO/K,QAElB,IAAK,aACD,OAAO6K,GAEX,QACI,OAAOlM,IAMfsM,WApCJ,WAA2D,IAAvC/J,EAAsC,uDAA7B0J,GAAqBG,EAAQ,uCACtD,OAAQA,EAAOjN,MACX,IAAK,4BACD,MAAM,GAAN,mBAAWoD,GAAX,CAAmB6J,EAAO/K,UAE9B,IAAK,iCAED,OAAOkB,EAAOiE,QAAO,SAAAkB,GAAC,OAAIA,EAAEvI,OAASiN,EAAO/K,QAAQlC,MAC5CuI,EAAE/E,WAAayJ,EAAO/K,QAAQsB,UAC9B+E,EAAE3D,QAAUqI,EAAO/K,QAAQ0C,SAEvC,IAAK,qBAEL,MAAM,GAAN,OAAWkI,IAEX,QACI,OAAO1J,MCrDnBgK,aAAaC,QACb,IAAMC,GAAgB,CAClBjK,IAAK,OACLkK,YACAC,gBAAiBC,KAGfC,GAAmBC,YAAeL,GAAeM,IAG1CC,GAAQC,sBACjBJ,GACAK,8BACIC,0BAAgBC,OAcXC,GAAiBC,YAAaN,IC3BrCO,GACN,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUR,MAAOA,GAAjB,SACE,cAAC,IAAD,CAAaS,QAAS,KAAMC,UAAWL,GAAvC,SACE,cAAC,EAAD,UAMNM,IAASC,OACPL,GACAtL,SAASC,eAAe,SAM1BqJ,M","file":"static/js/main.cf6d5cab.chunk.js","sourcesContent":["import React from 'react';\n\nconst NavBar = () => {\n    return (\n        <div className=\"navbar navbar-expand-sm navbar-dark bg-primary\">\n            <span className=\"navbar-brand px-4\">Time Traker <i className=\"fas fa-chart-line fa-md\"></i></span>\n\n            <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navLinks\">\n                <span className=\"navbar-toggler-icon\"></span>\n            </button>\n            <div className=\"collapse navbar-collapse navbar-nav text-center justify-content-between mx-3\" id=\"navLinks\">\n\n                <a href=\"index.html\" className=\"nav-item nav-link active\">Dashboard</a>\n                {/* <!-- <a href=\"#\" class=\"nav-item nav-link \">Modify Shifts</a>\n                <a href=\"#\" class=\"nav-item nav-link\">Set Goals</a> --> */}\n                {/* <!-- <a href=\"all-hours.html\" class=\"nav-item nav-link\">See Stats</a> --> */}\n\n            </div>\n        </div>\n    )\n};\n\nexport default NavBar\n","import axios from \"axios\";\nclass UserApi {\n    static token = \"\";\n\n    static async login({username, password}) {\n        try {\n            const resp = await axios.post(\"/api/users/login\", { username, password });\n            this.token = resp.data.token;\n            return { status: true, user: resp.data.user };\n        } catch (e) {\n            const errors = getMessagesFromErrorRes(e);\n            return { status: false, errors };\n        }\n    }\n    static async register({username, password}) {\n        try {\n            const resp = await axios.post(\"api/users/register\", { username, password });\n            this.token = resp.data.token;\n            return { status: true, user: resp.data.user };\n        } catch (e) {\n            const errors = getMessagesFromErrorRes(e);\n            return { status: false, errors };\n        }\n    }\n    static async addShift(shift) {\n        try {\n            const resp = await axios.post(\"/api/shifts/\", {shift, token: this.token});\n            return { status: true, shift: resp.data.shift };\n        } catch (e) {\n            const errors = getMessagesFromErrorRes(e);\n            return { status: false, errors };\n        }\n    }\n    static async clockOutShift(id, time) {\n        try {\n            const resp = await axios.patch(`/api/shifts/${id}`, { shift:{stop: time}, token: this.token });\n            return { status: true, shift: resp.data.shift };\n        } catch (e) {\n            const errors = getMessagesFromErrorRes(e);\n            return { status: false, errors };\n        }\n    }\n}\n\nfunction getMessagesFromErrorRes(e) {\n    if (e.response) {\n        console.error(\"API Error:\", e.response);\n        let message = e.response.data.error.message;\n        return Array.isArray(message) ? message : [message];\n    } else return [\"DB CONNECTION ERROR\"];\n}\n\nexport default UserApi;","import axios from \"axios\";\nimport UserApi from \"../api\";\n\nexport function startShift(type, category) {\n    return async function (dispatch) {\n        const newShift = {start: new Date(), type, category};\n        const resp = await UserApi.addShift(newShift);\n        if (resp.status === true) {\n            dispatch({ type: \"START_SHIFT\", payload: resp.shift });\n            return true;\n        }\n        if (resp.status === false) {\n            console.error(resp.errors);\n            return false;\n            //TODO make a queue for failed shift uploads to be merged later\n            //dispatch({ type: \"ADD_SHIFT_TO_UPLOAD_QUEUE\", payload: newShift })\n        }\n    }\n\n}\n\nexport function endShift(id) {\n    const stop = new Date();\n    return clockOutAt(id, stop);\n}\n\nexport function clockOutAt(shiftId, stop) {\n    return async function(dispatch) {\n        const resp = await UserApi.clockOutShift(shiftId, stop);\n        if (resp.status === true) {\n            dispatch({ type: \"UPDATE_SHIFT\", payload: resp.shift });\n            return true;\n        }\n        if (resp.status === false) {\n            console.error(resp.errors);\n            return false;\n        }\n    }\n}\n\nexport function resetErrors() {\n    return { type: \"RESET_ERRORS\" };\n}\n\nexport function authorizeUser({ username, password }) {\n    return async function (dispatch) {\n        const resp = await UserApi.login({username, password});\n        if(resp.status === true)\n            dispatch({ type: \"SET_USER\", payload: resp.user });\n        return resp;\n    }\n}\n\nexport function registerUser({ username, password }) {\n    return async function (dispatch) {\n        const resp = await UserApi.register({ username, password });\n        if (resp.status === true)\n            dispatch({ type: \"SET_USER\", payload: resp.user });\n        return resp;\n    }\n}\n\n","import React from \"react\";\nconst InputAlert = ({ msg, persistence = 0 }) => {\n\n    const alertId = Math.random() + '-alert';\n\n    if(+persistence > 0){\n        setTimeout(() => {\n            document.getElementById(alertId).remove();\n        }, +persistence);\n    }\n\n    return (\n    <div className=\"alert bg-warning\" id={alertId}>\n        { msg }\n    </div>\n)};\nexport default InputAlert\n","import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { startShift } from \"./redux/actionCreators\";\nimport InputAlert from \"./InputAlert\";\n\nconst AddShift = () => {\n    let currShifts = useSelector(({ shifts }) => {\n        const currShifts = [];\n        for (let key in shifts) {\n            if (!shifts[key].stop) currShifts.push(shifts[key]);\n        }\n        return currShifts;\n    });\n    \n    const INIT = {type: \"\", category: \"\"};\n    const [ formData, setFormData ] = useState(INIT);\n    const [ inputAlerts, setInputAlerts ] = useState({});\n    const dispatch = useDispatch();\n\n    function handleChange(evt) {\n        const { name, value } = evt.target;\n        setFormData(data => ({...data, [name]: value}));\n    }\n    function addAlert(name, msg) {\n        setInputAlerts(alerts => ({\n            ...alerts,\n            [name]: msg\n        }));\n\n        setTimeout(() => {\n            setInputAlerts(alerts => ({\n                ...alerts,\n                [name]: undefined\n            }));\n        }, 3000);\n    }\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n        const type = formData.type.toLowerCase();\n        const category = formData.category.toLowerCase();\n        \n        if(type  && category) {\n            if (currShifts.some(shift => shift.type===type && shift.category === category)) {\n                addAlert('both', `Already clocked in to ${type} for ${category}`); \n                return;\n            }\n            setFormData(INIT);\n            dispatch(startShift(type, category));\n        } else {\n            if(!type) addAlert('type', 'input must be filled');\n            if(!category) addAlert('category', 'input must be filled');\n        }\n    }\n\n    return (\n        <form id=\"new-shift\" className=\"col-xl border m-3 p-4 rounded shadow \" onSubmit={handleSubmit}>\n            <div className=\"row align-items-center justify-content-around\">\n                <h1 className=\"col-lg-3 col-xl-12 display-4 text-center\">New Shift!</h1>\n\n                <div className=\"col-12 col-lg-2 col-xl-5 m-2 mb-3\">\n                    <label htmlFor=\"type\" className=\"form-label\">Work-Type</label>\n                    <div className=\"input-group\">\n                        <input type=\"text\" \n                            className=\"form-control\" \n                            id=\"type\" \n                            name=\"type\"\n                            value={formData.type}\n                            onChange={handleChange}\n                            placeholder=\"Coding\" \n                        />\n                    </div>\n                    {inputAlerts.type ? <InputAlert msg={inputAlerts.type} /> : null}\n                </div>\n                <div className=\" col-lg-3 col-xl-5 m-2 mb-3\">\n                    <label htmlFor=\"category\" className=\"form-label\">Category</label>\n                    <div className=\"input-group\">\n                        <div className=\"input-group-prepend\">\n                            <span className=\"input-group-text\">For </span>\n                        </div>\n                        <input type=\"text\" \n                            className=\"form-control\" \n                            id=\"category\" \n                            name=\"category\"\n                            value={formData.category}\n                            onChange={handleChange}\n                            placeholder=\"Fun\" />\n                    </div>\n                    {inputAlerts.category ? <InputAlert msg={inputAlerts.category} /> : null}\n                </div>\n\n                <div id=\"clockin-buttons\" className=\"col m-2 mb-3\">\n                    {inputAlerts.both ? <InputAlert msg={inputAlerts.both} /> : null}\n\n                    <button type=\"submit\" className=\"btn btn-secondary col-12 p-3 px-md-5 \">Clock In</button>\n                </div>\n            </div>\n        </form>\n    )\n};\nexport default AddShift","/**\n * A shift class, representing time spent at a certain date on a thing for a reason\n * \n */\nclass Shift {\n    /**\n     * \n     * @param { Date } start \n     * @param { string } type \n     * @param { string } category  \n     * @param { Date } stop\n     */\n    constructor({ start, type, category, stop, id, u_id }) {\n        this.id = id;\n        this[\"u_id\"] = u_id;\n        if (start instanceof Date) this.start = start;\n        else this.start = new Date(start);\n\n        this.type = type;\n        this.category = category;\n        if (stop) {\n            if (stop instanceof Date) this.stop = stop;\n            else this.stop = new Date(stop);\n        }\n    }\n\n    /**\n     * returns the duration in Milliseconds\n     */\n    duration() {\n        if (this.stop) return this.stop.getTime() - this.start.getTime();\n        else return new Date().getTime() - this.start.getTime();\n    }\n\n    /**\n    * returns the hours as a decimal that the shift took to complete\n    */\n    getHours() {\n        return this.duration() / 3600000 //MS in an Hour\n    }\n\n    getFormattedDuration(specificity = 2) {\n        const duration = this.duration();\n        const durationFormatted = timeFormat(duration, specificity);\n        return durationFormatted;\n    }\n\n    equals(test, strict=true) {\n        if(typeof test !== 'object') return false;\n        else if (this.id && test.id && strict) {\n            if(this.id === test.id) return true;\n            else return false; \n        } else {\n            if (this.category === test.category) {\n                if (this.type === test.type) {\n                    if (this.start.getTime() === test.start.getTime()) return true;\n                    if (!strict) return true;\n                }\n            }\n            return false;\n        }\n    }\n\n    /**\n     * sets the stop of the shift\n     *\n     * @param { Date } stop the stop Date/Time that this shift should stop, if none\n     *          specified it defaults to now.\n     */\n    clockOut(stop = new Date()) {\n        this.stop = stop;\n    }\n\n    /**\n     * stops the currents shift at splitDateTime and starts a new shift \n     *      at the same moment of the specified type and category\n     * \n     * @param { Date } splitDateTime the time to clock out the original shift\n     * @param { String } type the type that the newshift should take on \n     * @param { String } category the category the newshift take on, the same category if none specified\n     * @returns { Shift } returns the newly created shift \n     */\n    splitShift(splitDateTime, type, category = this.category) {\n        const newShift = new Shift({start: splitDateTime, type, category, stop: this.stop})\n        this.clockOut(splitDateTime);\n        return newShift;\n    }\n\n}\n\n\nclass ShiftCollection {\n    constructor(...newShifts) {\n        this.shifts = [];\n        this.add(...newShifts);\n    }\n\n    toString() {\n        return 'A ShiftCollection of length ' + this.length() + ' ' + this.shifts;\n    }\n    //future add with shifts being an object of objects of arrays\n    // tempState = { ...state };\n    // category = action.payload.category;\n    // type = action.payload.type;\n    // if(tempState[category]) {\n    //     if (tempState[category][type]) {\n    //         let temp = tempState[category][type];\n    //         tempState[category][type] = [...temp, action.payload];\n    //     } else {\n    //         tempState[category][type] = [action.payload];\n    //     }\n    // } else {\n    // tempState[category] = { [type]: [action.payload] };\n    add(...newShifts) {\n        for (let shift of newShifts) {\n            if (!(shift instanceof Shift)) {\n                shift = new Shift(shift);\n            }\n            this.shifts.push(shift);\n        }\n    }\n    getTotalHours() {\n        return this.shifts.reduce((totalHours, shift) => {\n            return totalHours + shift.getHours();\n        }, 0);\n    }\n\n    remove(removedShift) {\n        const shiftIndex = this.shifts.findIndex((shift) => {\n            if (shift.category === removedShift.category)\n                if (shift.type === removedShift.type)\n                    if (shift.start === removedShift.start) return true;\n            return false;\n        });\n\n        if (shiftIndex !== -1) {\n            this.shifts.splice(shiftIndex, 1);\n            return true;\n        }\n        else return false;\n    }\n\n    contains(someShift, strict = false) {\n        if (this.find(someShift, strict)) return true;\n        return false;\n    }\n    /**\n     * \n     * @param {string} initialCategory the initial category name to select the shifts\n     * @param {string} newCategory the name all shifts selected should be changed to\n     * @returns {boolean} true on success, false if no shifts of category initialCategory are found\n     */\n    changeCategory(initialCategory, newCategory) {\n        const shifts = this.category(initialCategory).shifts; //shift collection is returned, get the array out of it\n\n        if (shifts.length) {\n            shifts.forEach(shift => { shift.category = newCategory });\n            return true;\n        }\n        return false;\n    }\n\n    changeType(initialtype, newType) {\n        const shifts = this.type(initialtype).shifts; //shift collection is returned, get the array out of it\n        //if it's not empty\n        if (shifts.length) {\n            shifts.forEach(shift => { shift.type = newType });\n            return true;\n        }\n        //emtpy, ogType doesn't exist\n        return false;\n    }\n\n    find(someShift, strict = false) {\n        for (let shift of this.shifts) {\n            if(shift.equals(someShift, strict)) return shift;\n        }\n        return false;\n    }\n\n    getCategories() {\n        const categories = new Set();\n        for (let shift of this.shifts) {\n            categories.add(shift.category);\n        }\n        return [...categories];\n    }\n\n    getTypes() {\n        const types = new Set();\n        for (let shift of this.shifts) {\n            types.add(shift.type);\n        }\n        return [...types];\n    }\n\n    getShiftsAfter(dateTime) {\n        return new ShiftCollection(...this.shifts\n            .filter(({ start }) => dateTime.getTime() < start.getTime()));\n    }\n    getShiftsBefore(dateTime) {\n        return new ShiftCollection(...this.shifts\n            .filter(({ start }) => dateTime.getTime() < start.getTime()));\n    }\n\n    getCurrShifts() {\n        return new ShiftCollection(...(this.shifts.filter((shift) => !shift.stop)));\n    }\n\n    category(queryString) {\n        return this.filter('category', queryString);\n    }\n\n    type(queryString) {\n        return this.filter('type', queryString);\n    }\n\n    filter(field, query) {\n        const matched = this.shifts.filter(shift => shift[field] == query);\n        return new ShiftCollection(...matched);\n    }\n\n    length() { return this.shifts.length };\n}\n\n/**\n * returns a day representing x hours away from dateTime \n * \n * @param {number} hours the number of hours from dateTime you want\n * @param {Date} dateTime the dateTime you want to have a reference from(defaults to now)\n * @returns {Date} a new Date that is x hours from dateTime\n */\nfunction hoursFrom(hours, dateTime = new Date()) {\n    return new Date(dateTime.getTime() + (1000 * 60 * 60 * hours)); //1000ms * 60s * 60m * X hours\n}\n\n/**\n * returns a day representing x mins away from dateTime \n * \n * @param {number} mins the number of mins from dateTime you want\n * @param {Date} dateTime the dateTime you want to have a reference from(defaults to now)\n * @returns {Date} the Date that is x mins from dateTime\n */\nfunction minsFrom(mins, dateTime = new Date()) {\n    return new Date(dateTime.getTime() + (1000 * 60 * mins)); //1000ms * 60s * X mins\n}\n\n/**\n *\n * @param { number } ms A duration represented in Milliseconds negative values are returned as positive durations\n * @param { number } specificity How many scales of time you would like returned the biggest is always returned\n *\n */\nfunction timeFormat(ms, specificity) {\n\n    const MSINSEC = 1000;\n    const MSINMINUTE = 60000;\n    const MSINHOUR = 3600000;\n    const MSINDAY = 86400000;\n    const MSINMONTH = 2628000000;\n    const MSINYEAR = MSINMONTH * 12;\n\n\n\n    let result = '';\n    let i = 0;\n    if (ms < 0) {\n        result += '- ';\n        ms = ms * -1;\n    }\n\n    const y = Math.floor(ms / MSINYEAR);\n    if (y) {\n        i++;\n        ms = ms - (y * MSINYEAR);\n        result += y + ' years ';\n        if (i == specificity) {\n            return result;\n        }\n    }\n\n\n    const mth = Math.floor(ms / MSINMONTH);\n    if (mth) {\n        i++;\n        ms = ms - (mth * MSINMONTH);\n        result += mth + ' Months ';\n        if (i == specificity) {\n            return result;\n        }\n    }\n\n    const d = Math.floor(ms / MSINDAY);\n    if (d) {\n        i++;\n        ms = ms - (d * MSINDAY);\n        result += d + ' Days ';\n        if (i == specificity) {\n            return result;\n        }\n    }\n\n    const h = Math.floor(ms / MSINHOUR);\n    if (h) {\n        i++;\n        ms = ms - (h * MSINHOUR);\n        result += h + ' Hours ';\n        if (i == specificity) {\n            return result;\n        }\n    }\n\n    const min = Math.floor(ms / MSINMINUTE);\n    if (min) {\n        i++;\n        ms = ms - (min * MSINMINUTE);\n        result += min + ' mins ';\n        if (i == specificity) {\n            return result;\n        }\n    }\n    const s = Math.floor(ms / MSINSEC);\n    if (s) {\n        i++;\n        ms = ms - (s * MSINSEC);\n        result += s + ' seconds ';\n        if (i == specificity) {\n            return result;\n        }\n    }\n    /*\n    if (ms) {\n        i++;\n        result += ms + ' ms ';\n        if (i == specificity) {\n            return result;\n        }\n    }\n    */\n    return result;\n\n}\nfunction timeFormatFromHours(hrs, specificity) {\n    const ms = hrs * 3600000;\n    return timeFormat(ms, specificity);\n}\n\n//testing purposes #cleanUp\n// const deli = new ShiftCollection(...JSON.parse(localStorage.records));\n\nexport { ShiftCollection, Shift, minsFrom, hoursFrom }","import React, { useEffect, useState } from 'react';\nimport { clockOutAt, endShift } from './redux/actionCreators';\nimport { useDispatch } from 'react-redux';\nimport { Shift, minsFrom } from './ShiftCollection';\n\nconst NOW = \"NOW\";\nconst FIFTEEN_AGO = \"-15\";\n\nconst CurrShift = ({ shift }) => {\n\n    const dispatch = useDispatch();\n    const [duration, setDuration] = useState(shift.getFormattedDuration());\n    useEffect(() => {\n        const intervalId = setInterval(() => (\n            setDuration(shift.getFormattedDuration())\n        ), 1000);\n        return () => clearInterval(intervalId);\n    }, [shift, setDuration]);\n\n    function clockOut(evt) {\n        const clockoutDuration = evt.target.dataset.reference;\n\n        if(clockoutDuration === NOW) {\n            dispatch(endShift(shift.id));\n        } else if (clockoutDuration === FIFTEEN_AGO) {\n            const clockOut = minsFrom(-15); //-15 minutes from now\n            dispatch(clockOutAt(shift.id, clockOut));\n        }else {\n            console.error(\"ERROR \", clockoutDuration);\n            dispatch(endShift(shift.id));\n        }\n    }\n    return (\n        <li className=\"row p-3 align-items-start justify-content-center\" >\n            <div className=\"col-7 text-center h2\">\n                <span className=\"type\">{ shift.type } </span> for \n                <span className=\"category\"> { shift.category }</span> \n                <div className=\"shift-length\">\n                    { duration }\n                </div>\n            </div>\n            <div className=\"col-4 dropdown clockout\">\n                <button className=\"btn btn-secondary dropdown-toggle text-center\" data-bs-toggle=\"dropdown\">\n                    Clock Out\n                </button>\n                <div className=\"dropdown-menu clock-out\">\n                    <button className=\"btn\" data-reference={NOW} onClick={clockOut}>\n                        Now                    \n                    </button>\n                    <button className=\"btn\" data-reference={FIFTEEN_AGO} onClick={clockOut}>15 Mins Ago</button>\n                </div>\n            </div>\n        </li >\n    )\n};\n\nexport default CurrShift","import React from 'react';\nimport { useSelector, shallowEqual } from 'react-redux';\nimport CurrShift from './CurrShift';\nimport { Shift, ShiftCollection } from './ShiftCollection';\n\nconst CurrShiftList = () => {\n    let currShifts = useSelector(({ shifts }) => {\n        const currShifts = [];\n        for(let key in shifts){\n            if(!shifts[key].stop) currShifts.push(shifts[key]);\n        }\n        return currShifts;\n    });\n    currShifts = currShifts.map(shift => new Shift(shift));\n    return (\n        <div className=\"col-xl m-3 p-4 rounded shadow border\">\n            <div className=\"row align-items-center justify-content-around\">\n                <h1 className=\"display-4 text-center col-12 col-md-3 col-xl-12\">Current Shifts</h1>\n\n                <ul id=\"current-shifts\" className=\"col-12 col-md-9 col-xl-12\">\n                    {currShifts.map(shift => \n                        <CurrShift key={`${shift.type}-${shift.category}`} shift={shift} />\n                    )}\n                </ul>\n            </div>\n        </div>\n     )\n}\n\nexport default CurrShiftList","import React from 'react';\nimport AddShift from './AddShift';\nimport CurrShiftList from './CurrShiftList';\nconst Header = () => {\n    \n    return (\n        <div className=\"container-fluid p-2 align-items-center justify-content-around\">\n            <div className=\"row border m-3 p-4 rounded shadow justify-content-center\">\n                <AddShift />\n                <CurrShiftList />\n                \n            </div>\n        </div>\n    )\n};\nexport default Header","import React, {useState, useEffect, useRef, useCallback} from 'react'; \nimport { shallowEqual, useSelector } from 'react-redux';\nimport { Chart, Pies, Transform } from 'rumble-charts';\nimport { Shift, ShiftCollection } from './ShiftCollection';\n\nconst Dashboard = () => {\n    const allShifts = useSelector(({ shifts }) => shifts, shallowEqual);\n    const shiftsByCategory = {};\n    const currShifts = [];\n    for(let key in allShifts) {\n        const shift = new Shift(allShifts[key]);\n        if(!shift.stop) currShifts.push(shift);\n        if(shiftsByCategory[shift.category]){\n            shiftsByCategory[shift.category].add(shift);\n        } else {\n            shiftsByCategory[shift.category] = new ShiftCollection(shift);\n        }\n    }\n\n    const makeSeries = useCallback(() => Object.keys(shiftsByCategory).map(category => {\n        return {\n            data: [shiftsByCategory[category].getTotalHours()],\n            name: category\n        }\n    }))\n    const [series, setSeries] = useState(makeSeries());\n\n    \n    useEffect(()=> {\n        setSeries(makeSeries());\n    }, [allShifts, setSeries]);\n    useEffect(() => {\n        const intervalIdArray = currShifts.map(shift => {\n            return setInterval(() => {\n                setSeries(series => {\n                    return series.map(data => {\n                        if(data.name === shift.category) {\n                            data.data[0] += 4/60/60 //4 second / 60 secs in min / 60 mins in hour\n                            return {...data};\n                        } else {\n                            return data;\n                        }\n                    });\n                });\n            }, 4000);\n        });\n        return () => \n            intervalIdArray.forEach(id => clearInterval(id));\n    }, [allShifts, setSeries]);\n    \n\n    const displayCategory = (evt) => {\n        const pieSlice = evt.target.parentElement.parentElement;\n        console.log(pieSlice.classList);\n        const i = pieSlice.classList[1].replace(\"category-pie-chart-series-\", \"\");\n        console.log(pieSlice.classList);\n\n        console.log(i);\n        console.log(series[+i])\n    }\n    return (\n    <div id=\"hours-spent-dashboard\" className=\"jumbotron bg-light border m-3 p-4 rounded shadow  d-none d-md-block\" >\n        <h1 className=\"display-4 text-center col-12 col-md-3 col-xl-12\">\n            Hours Spent In Last Week\n        </h1>\n            <Chart width={600} height={250} series={series}>\n                <Transform method={['stackNormalized']}>\n                    <Pies\n                        className='category-pie-chart'\n                        colors='category10'\n                        combined={true}\n                        innerRadius='20%'\n                        padAngle={0.015}\n                        cornerRadius={5}\n                        innerPadding={2}\n                        pieAttributes={{\n                            onMouseMove: (e) => e.target.style.opacity = 1,\n                            onMouseLeave: (e) => e.target.style.opacity = 0.5,\n                            onMouseUp: displayCategory\n                        }}\n                        pieStyle={{ opacity: 0.5 }}\n                    />\n                </Transform>\n            </Chart>\n  </div >\n    )\n};\nexport default Dashboard","import React, { useState } from \"react\";\n\nimport './SimpleForm.css'\n\nconst SimpleForm = ( {className, INITIAL_STATE, onSubmit, submitText=\"Submit\", errors=[]} ) => {\n    const [formData, setFormData] = useState(INITIAL_STATE);\n    const handleChange = evt => setFormData(data => {\n        return {...data, [evt.target.name] : evt.target.value}\n    });\n    const resetForm = () => setFormData(INITIAL_STATE);\n    const handleSubmit = evt => {\n        evt.preventDefault(); \n        onSubmit(formData, resetForm);\n    };\n    return (\n        <form className={className} onSubmit={handleSubmit}>\n            {errors.map(message => \n                <div key={message} className={`${className}-error form-error`}>\n                    {message}\n                </div> \n            )}\n            {Object.keys(INITIAL_STATE).map(name => (\n                <div key={name}>\n                    <label htmlFor={name}> {name}: </label>\n                    <input\n                        type=\"text\"\n                        name={name}\n                        id={name}\n                        value={formData[name]}\n                        onChange={handleChange} \n                    />\n                </div>\n            ))}\n            <button>{submitText}</button>\n        </form> \n    )\n};\nexport default SimpleForm","import './Login.css';\n\nimport React, {useState} from \"react\";\nimport {useDispatch} from 'react-redux';\n// import { useHistory } from \"react-router\";\n// import UserContext from \"../UserContext\";\nimport { authorizeUser} from \"../redux/actionCreators\";\nimport SimpleForm from \"./SimpleForm\";\n\nconst LoginForm = () => {\n    const dispatch = useDispatch(); \n    const [errors, setErrors] = useState([]);\n\n    const loginInputs = {\n        username: \"\",\n        password: \"\"\n    }\n\n    const login = async ({ username, password }, reset) => {\n        const result = await dispatch(authorizeUser({ username, password }));\n        if (result.status) {\n            reset();\n            setErrors([]);\n            alert(`logged In ${result.user.id}`);\n        } else {\n            setErrors([result.errors]);\n        }\n    }\n\n    return <SimpleForm \n        className=\"Login\" \n        INITIAL_STATE={loginInputs} \n        onSubmit={login}\n        submitText=\"Login\"\n        errors={errors}\n    />\n};\nexport default LoginForm","import './Signup.css';\n\nimport { useDispatch} from 'react-redux';\nimport { registerUser } from \"../redux/actionCreators\";\n\nimport React, { useState } from \"react\";\nimport SimpleForm from \"./SimpleForm\";\n\nconst SignupForm = () => {\n    const dispatch = useDispatch();\n    const [errors, setErrors] = useState([]);\n\n    \n    const signupInputs = {\n        username: \"\",\n        password: \"\"\n    }\n\n    const signup = async ({ username, password }, reset) => {\n        const result = await dispatch(registerUser({ username, password }));\n        if(result.status) {\n            reset();\n            alert(`Registered ${result.user.id}`);\n        } else {\n            setErrors([result.errors]);\n        }\n        \n    }\n\n\n    return <SimpleForm \n        className=\"Signup\"\n        INITIAL_STATE={signupInputs}\n        onSubmit={signup}\n        submitText=\"Sign Up!\"\n        errors={errors}\n    />\n};\nexport default SignupForm","import './App.css';\nimport NavBar from './NavBar';\nimport Header from './Header';\nimport Dashboard from './Dashboard';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { authorizeUser } from './redux/actionCreators';\nimport LoginForm from './Forms/Login';\nimport SignupForm from './Forms/Signup';\n\nfunction App() {\n  const user = useSelector(({user})=> user);\n  return (\n    <div className=\"App\">\n      {user.id ? \n        <h1> HELLO {user.username} </h1> :\n        <h1>PLEASE LOGIN</h1>\n      }\n      <LoginForm />\n      <SignupForm />\n      <NavBar />\n      <Header />\n      <Dashboard />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { emit } from \"process\";\nimport { combineReducers } from \"redux\";\nimport {Shift} from \"../ShiftCollection\";\n// EX\n// import { combineReducers } from \"redux\";\n// function planets(state = INITIAL_STATE, action) {\n//     switch (action.type) {\n//         case RESET_ALL:\n//             return { ...INITIAL_STATE };\n\n//         case LOAD_PLANET:\n//             return {\n//                 ...state,\n//                 [action.payload.id]: { ...action.payload }\n//             };\n\n//         default:\n//             return state;\n//     }\n// }\n\n\n// export default combineReducers({\n//     films,\n//     planets,\n//     people,\n// });\nconst SHIFTS_INITIAL_STATE = {};\n\nfunction shifts(shifts = SHIFTS_INITIAL_STATE, action) {\n    \n    switch (action.type) {\n        case \"START_SHIFT\":\n            const newShift = new Shift(action.payload);\n            return {...shifts, [newShift.id]: newShift };\n\n        case \"UPDATE_SHIFT\":\n            const updatedShift = new Shift(action.payload);\n            return { ...shifts, [updatedShift.id]: updatedShift };\n            \n        default:\n            return shifts;\n    }\n}\n\nconst QUEUE_INITIAL_STATE = [];\n\nfunction shiftQueue(shifts = QUEUE_INITIAL_STATE, action) {\n    switch (action.type) {\n        case \"ADD_SHIFT_TO_UPLOAD_QUEUE\":\n            return [...shifts, action.payload];\n\n        case \"REMOVE_SHIFT_FROM_UPLOAD_QUEUE\":\n            //to be improved\n            return shifts.filter(s => s.type !== action.payload.type ||\n                    s.category !== action.payload.category ||\n                    s.start !== action.payload.start);\n        \n        case \"RESET_UPLOAD_QUEUE\":\n        //to be improved\n        return [...QUEUE_INITIAL_STATE];\n\n        default:\n            return shifts;\n    }\n}\n\nconst USER_INITIAL_STATE = {};\nfunction user(user = USER_INITIAL_STATE, action) {\n    switch (action.type) {\n        case \"SET_USER\":\n            return action.payload;\n\n        case \"RESET_USER\":\n            return USER_INITIAL_STATE;\n\n        default:\n            return user;\n    }\n}\nexport default combineReducers({\n    shifts,\n    user,\n    shiftQueue\n});","import { composeWithDevTools } from \"redux-devtools-extension\";\nimport { persistStore, persistReducer } from \"redux-persist\";\nimport storage from \"redux-persist/lib/storage\";\nimport autoMergeLevel2 from \"redux-persist/lib/stateReconciler/autoMergeLevel2\";\n\nimport thunk from \"redux-thunk\";\nimport root from \"./reducers\";\nimport { createStore, applyMiddleware } from \"redux\";\n//merges the initial state with the incoming state with a shallow merge\n//reset everytime for testing\nlocalStorage.clear();\nconst persistConfig = {\n    key: \"root\",\n    storage,\n    stateReconciler: autoMergeLevel2\n};\n\nconst persistedReducer = persistReducer(persistConfig, root);\n\n//the Redux Store\nexport const store = createStore(\n    persistedReducer,\n    composeWithDevTools(\n        applyMiddleware(thunk),\n    )\n);\n\n/** an object containing \n * .purge()\n *    purges state from disk and returns a promise\n * .flush()\n *    immediately writes all pending state to disk and returns a promise\n * .pause()\n *    pauses persistence\n * .persist()\n *    resumes persistence\n */\nexport const persistedStore = persistStore(store);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport { Provider } from \"react-redux\";\nimport { store, persistedStore } from \"./redux/store\"\n\nconst index = (\n<React.StrictMode>\n  <Provider store={store}>\n    <PersistGate loading={null} persistor={persistedStore}>\n      <App />\n    </PersistGate>\n  </Provider>\n</React.StrictMode>\n);\n\nReactDOM.render(\n  index,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}